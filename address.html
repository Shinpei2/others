
<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8" />
        <title>jQuery TIPS</title>
    </head>

    <body>
        <form>
            <div>
                <label for="zip_code"">郵便番号：</label><br />
                <input id="zip_code" type="text" size="10" />
                <input id="search" type="button" value="検索" />
            </div>
            <div>
                <label for="address">住所：</label><br />
                <p>住所1<input id="address1" type="text" size="35" /></p>
                <p>住所2<input id="address2" type="text" size="35" /></p>
                <p>住所3<input id="address3" type="text" size="35" /></p>
            </div>
        </form>
        <script src="http://code.jquery.com/jquery-1.11.3.min.js"></script>
        <script>
            $(function () {
                // ［検索］ボタンクリックで郵便番号検索を実行
                $('#search').click(function () {
                    // 住所情報をJSON形式で取得
                    $.getJSON('http://zipcloud.ibsnet.co.jp/api/search?callback=?',
                        {
                            zipcode: $('#zip_code').val()
                        }
                    )
                    // 結果を取得したら…
                    .done(function (data) {
                        // 中身が空でなければ、その値を［住所1］~［住所3］欄に反映
                        if (data.results) {
                            var result = data.results[0];
                            $('#address1').val(result.address1);
                            $('#address2').val(result.address2);
                            $('#address3').val(result.address3);
                        } 
                        // 中身が空の場合は未処理
                        else {

                        }
                    });
                });
            });
        </script>
    </body>
</html>
